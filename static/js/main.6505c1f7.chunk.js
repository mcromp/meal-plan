(this["webpackJsonpmeal-plan"]=this["webpackJsonpmeal-plan"]||[]).push([[0],{20:function(e,t,n){},27:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c,r=n(0),s=n(1),a=n.n(s),i=n(14),u=n.n(i),o=n(2),d=n(13),l=n(29),j=n(5),b="menu-plan/calendar/SET_CALENDAR",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.calendar;default:return e}},f="menu-plan/filterList/SET_FILTER",O="menu-plan/filterList/RESET_FILTER",h=[{id:"FAVORITES",name:"User Favorites",selected:!1},{id:"BREAKFAST",name:"Breakfast",selected:!1},{id:"LUNCH",name:"Lunch",selected:!1},{id:"DINNER",name:"Dinner",selected:!1},{id:"DESSERT",name:"Dessert",selected:!1},{id:"SNACK",name:"Snack",selected:!1},{id:"DRINK",name:"Drink",selected:!1}],v=function(){return{type:O}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var n=t.payload,c=n.filter,r=n.selected,s=Object(j.a)(e);return s[s.indexOf(c)].selected=r,s;case O:return e.map((function(e){return e.selected=!1,e}));default:return e}},p="menu-plan/SET_ALERT_MESSAGE",_=function(e){return{type:p,message:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.message;default:return e}},N="menu-plan/isLoading/IS_LOADING",S=function(e){return{type:N,isLoading:e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.isLoading;default:return e}},y="menu-plan/menuList/SET_MENULIST",L="menu-plan/menuList/ADD_MENULIST",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.menuList;case L:return[].concat(Object(j.a)(e),[t.menuItem]);default:return e}},E="menu-plan/currentUser/SET_CURRENT_USER",I="menu-plan/currentUser/CLEAR_CURRENT_USER",U=function(e){return{type:E,payload:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n=t.payload,c=n._id,r=n.favList,s=n.username,a={id:c,favList:r,username:s};return a;case I:return"";default:return e}},T="menu-plan/users/SET_USERS_FROM_JSON",q="menu-plan/users/ADD_USER_JSON",R="menu-plan/users/DELETE_ONE_USER",A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:var n=t.userJSONs.map((function(e){return{id:e._id,favList:Object(j.a)(e.favList),username:e.username}}));return n;case q:var c=t.userJSON,r=c.favList,s=c.username,a=c._id,i={id:a,favList:r,username:s};return[].concat(Object(j.a)(e),[i]);case R:return e.filter((function(e){return!(e.id===t.id)}));default:return e}},F="menu-plan/isLoggedIn/IS_LOGGED_IN",M=function(e){return{type:F,isLoggedIn:e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return t.isLoggedIn;default:return e}},G="menu-plan/isFailedToLoad/IS_FAILED_TO_LOAD",B=function(e){return{type:G,isFailedToLoad:e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return t.isFailedToLoad;default:return e}},P=Object(d.c)({filterList:x,menuList:C,users:A,currentUser:w,calendar:m,isLoading:k,isLoggedIn:D,alertMessage:g,isFailedToLoad:J}),K=Object(d.d)(P,Object(d.a)(l.a)),W=(n(41),n(10)),V=n(4),z=n(3),H=function(){var e=Object(s.useState)(!1),t=Object(z.a)(e,2),n=t[0],c=t[1],r=Object(o.c)((function(e){return e.isLoading}));return Object(s.useEffect)((function(){var e=setTimeout((function(){c(r)}),750);return function(){clearTimeout(e)}}),[r]),[n]},Q=n(22),Y=n.n(Q),X=n(30),Z="https://ancient-fortress-30675.herokuapp.com/",$=Z+"menu/",ee=Z+"users/";!function(e){e.reqGetMenu="reqGetMenu",e.reqAddMenu="reqAddMenu",e.reqGetUsers="reqGetUsers",e.reqGetUser="reqGetUser",e.reqGetCalendar="reqGetCalendar",e.reqDeleteUser="reqDeleteUser",e.reqAddUser="reqAddUser",e.reqUpdateCalendar="reqUpdateCalendar",e.reqAddFav="reqAddFav",e.reqRemoveFav="reqRemoveFav",e.reqClearFavList="reqClearFavList"}(c||(c={}));var te={reqGetMenu:{URL:$,method:"GET"},reqAddMenu:{URL:"https://ancient-fortress-30675.herokuapp.com/menu/add/",method:"POST"},reqGetUsers:{URL:ee,method:"GET"},reqGetUser:{URL:ee,method:"GET"},reqGetCalendar:{URL:"https://ancient-fortress-30675.herokuapp.com/calendar/user/",method:"POST"},reqDeleteUser:{URL:ee,method:"DELETE"},reqAddUser:{URL:"https://ancient-fortress-30675.herokuapp.com/users/signup/",method:"POST"},reqUpdateCalendar:{URL:"https://ancient-fortress-30675.herokuapp.com/calendar/update/",method:"POST"},reqAddFav:{URL:"https://ancient-fortress-30675.herokuapp.com/users/favAdd/",method:"POST"},reqRemoveFav:{URL:"https://ancient-fortress-30675.herokuapp.com/users/favRemove/",method:"POST"},reqClearFavList:{URL:"https://ancient-fortress-30675.herokuapp.com/users/favClear/",method:"POST"}},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var c=Object(X.a)(Y.a.mark((function c(r){var s,a,i;return Y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,s=te[e].URL+n){c.next=4;break}throw Error("Error: invalid URL");case 4:if(r(S(!0)),!t){c.next=11;break}return c.next=8,fetch(s,{method:te[e].method,body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 8:c.t0=c.sent,c.next=14;break;case 11:return c.next=13,fetch(s);case 13:c.t0=c.sent;case 14:if((a=c.t0).ok){c.next=21;break}return c.t1=Error,c.next=19,a.json();case 19:throw c.t2=c.sent,(0,c.t1)(c.t2);case 21:return c.next=23,a.json();case 23:i=c.sent,ce(r,i,e),r(S(!1)),c.next=34;break;case 28:c.prev=28,c.t3=c.catch(0),r(S(!1)),r(B(!0)),console.error("Error with ".concat(e," call")),console.error(c.t3.message);case 34:case"end":return c.stop()}}),c,null,[[0,28]])})));return function(e){return c.apply(this,arguments)}}()},ce=function(e,t,n){var r;if(n===c.reqGetMenu&&e({type:y,menuList:t}),n===c.reqAddMenu&&e({type:L,menuItem:t}),n===c.reqGetUsers&&e({type:T,userJSONs:t}),n===c.reqGetUser&&e(U(t)),n===c.reqGetCalendar&&e(function(e){var t;return t=e.map((function(e){var t=e.userId,n=e.date;return{userId:t,menuItems:Object(j.a)(e.menuItems),date:n}})),{type:b,calendar:t}}(t)),n===c.reqAddFav&&e(U(t)),n===c.reqRemoveFav&&e(U(t)),n===c.reqDeleteUser){e((r=t._id,{type:R,id:r}));var s="User: ".concat(t.username," deleted");e(_(s))}if(n===c.reqAddUser){var a="User: ".concat(t.username," added");e({type:q,userJSON:t}),e(_(a))}},re=(n(43),function(e){var t=e.text,n=e.subText,c=e.isRedirected,a=Object(s.useState)(!1),i=Object(z.a)(a,2),u=i[0],o=i[1];return Object(s.useEffect)((function(){var e=setTimeout((function(){o(!0)}),5e3);return function(){clearTimeout(e)}}),[]),c&&u?Object(r.jsx)(V.a,{to:"/"}):Object(r.jsxs)("div",{className:"main",children:[Object(r.jsx)("span",{className:"main__text",children:t}),Object(r.jsx)("span",{className:"main__sub-text",children:n})]})}),se=function(){return Object(r.jsx)(re,{text:"Server Error",subText:"Could not load, please try again later",isRedirected:!1})},ae=function(){return Object(r.jsxs)("svg",{className:"svg__menu",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 980 1619",children:[Object(r.jsx)("defs",{children:Object(r.jsx)("linearGradient",{id:"linearGradient1480",x1:"39.5",x2:"920.5",y1:"660",y2:"660",gradientTransform:"matrix(1 0 0 1.0012 .002 -.047)",gradientUnits:"userSpaceOnUse",children:Object(r.jsx)("stop",{offset:"0"})})}),Object(r.jsxs)("g",{transform:"translate(9.998 287.46)",children:[Object(r.jsx)("rect",{width:"880",height:"1241.5",x:"40.001",y:"40.001",strokeWidth:"100",rx:"0.1"}),Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{strokeLinejoin:"round",strokeWidth:"100",d:"M40 40l553.66-277.46L600 40"}),Object(r.jsx)("path",{strokeWidth:"91.287",d:"M680 760s-3.083-24.602-11.741-56.6C652.26 644.265 609.777 560 479.999 560c-129.45 0-169.95 84.72-186.06 143.83-8.78 32.218-13.937 56.169-13.937 56.169zM480 480v-40"}),Object(r.jsx)("path",{strokeLinecap:"round",strokeWidth:"92.582",d:"M240 880h480"})]}),Object(r.jsx)("path",{d:"M360 600l40 40"})]})]})},ie=function(){return Object(r.jsx)("div",{className:"loader",children:Object(r.jsx)(ae,{})})},ue=function(){return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg__close",viewBox:"0 0 32 32",vectorEffect:"non-scaling-stroke",children:[Object(r.jsx)("path",{fill:"none",stroke:"null",d:"M-1 -1H33V33H-1z"}),Object(r.jsxs)("g",{fill:"none",strokeWidth:"3",children:[Object(r.jsx)("ellipse",{cx:"16",cy:"16",rx:"13.333",ry:"13.588"}),Object(r.jsx)("path",{d:"M10.031 22.187L21.969 9.813"}),Object(r.jsx)("path",{d:"M10.031 22.187L21.969 9.813",transform:"rotate(90 16 16)"})]})]})},oe=function(e){var t=e.selectedFilter,n=e.handleSelect,c=Object(o.c)((function(e){return e.filterList})).map((function(e){return"FAVORITES"!==e.id?Object(r.jsx)("option",{className:"",value:e.id,children:e.name},e.id):null}));return Object(r.jsx)("form",{className:"submit-item__form",children:Object(r.jsx)("label",{children:Object(r.jsxs)("select",{className:"submit-item__select",value:t,onChange:function(e){return n(e)},children:[Object(r.jsx)("option",{value:"",disabled:!0,children:"Select filter category"}),c]})})})},de=function(e){var t=e.setIsAddModalShown,n=Object(s.useState)(""),a=Object(z.a)(n,2),i=a[0],u=a[1],d=Object(s.useState)(""),l=Object(z.a)(d,2),j=l[0],b=l[1],m=Object(o.b)(),f=Object(s.useRef)(null),O=Object(s.useRef)(null);Object(s.useLayoutEffect)((function(){f.current&&f.current.focus()}),[]);var h=!j||!i;return Object(r.jsx)("div",{className:"submit-item-container",onKeyDown:function(e){return function(e){"Escape"===e.key&&t(!1)}(e)},children:Object(r.jsxs)("div",{className:"submit-item",children:[Object(r.jsxs)("div",{className:"submit-item__close-icon",ref:O,onClick:function(){return t(!1)},children:[" ",Object(r.jsx)(ue,{})]}),Object(r.jsx)("span",{className:"submit-item__text",children:"Input a name, assign a filter, then click 'Submit'"}),Object(r.jsx)("input",{className:"submit-item__text-input",ref:f,maxLength:20,value:j,onChange:function(e){return b(e.target.value)},type:"text"}),Object(r.jsx)(oe,{selectedFilter:i,handleSelect:function(e){u(e.target.value)}}),Object(r.jsxs)("div",{className:"submit-item__button-container",children:[Object(r.jsx)("button",{className:"button submit-item__button",onClick:function(){return t(!1)},children:"Cancel"}),Object(r.jsx)("button",{className:"button submit-item__button",disabled:h,onClick:function(){return function(){var e={item:j,filter:i};m(ne(c.reqAddMenu,e)),t(!1)}()},children:"Submit"})]})]})})},le=function(e){var t=e.item,n=e.modifyQuantityOfCheckoutItem,c=e.removeFromCheckout,a=Object(o.c)((function(e){return e.menuList})),i=Object(s.useState)(""),u=Object(z.a)(i,2),d=u[0],l=u[1];return Object(s.useEffect)((function(){var e=a.find((function(e){return e.id===t.foodId}));e&&l(null===e||void 0===e?void 0:e.item)}),[a,t.foodId]),Object(r.jsxs)("div",{className:"checkout-item",children:[Object(r.jsx)("span",{className:"checkout-item__name",children:d}),Object(r.jsx)("span",{className:"checkout-item__quantity",children:t.quantity}),Object(r.jsxs)("div",{className:"checkout-item__buttons",children:[Object(r.jsx)("button",{className:"button button--checkout-item",onClick:function(){return n(t,1)},children:"+"}),Object(r.jsx)("button",{className:"button button--checkout-item",onClick:function(){return n(t,-1)},children:"-"}),Object(r.jsx)("button",{className:"button button--checkout-item",onClick:function(){return c(t)},children:"remove"})]})]})},je=function(){var e=Object(s.useState)(!1),t=Object(z.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)([]),i=Object(z.a)(a,2),u=i[0],d=i[1],l=Object(o.c)((function(e){return e.filterList})),b=Object(o.b)(),m=function(e,t){b(function(e,t){return{type:f,payload:{filter:e,selected:t}}}(e,t)),c(!0)};return Object(r.jsxs)("div",{className:"filters",children:[l.map((function(e){return u.includes(e)?Object(r.jsxs)("button",{className:"filters__button filters__button--remove",onClick:function(){m(e,!1),function(e){var t=Object(j.a)(u);t.splice(t.indexOf(e),1),t[0]||c(!1),d(t)}(e)},children:[e.name," ",Object(r.jsx)(ue,{})]},e.name):Object(r.jsx)("button",{className:"filters__button filters__button--add",onClick:function(){m(e,!0),function(e){var t=[].concat(Object(j.a)(u),[e]);d(t)}(e)},children:e.name},e.name)})),n?Object(r.jsx)("button",{className:"filters__button filters__button--clear-all",onClick:function(){b(v()),d([]),c(!1)},children:"Clear All Filters"}):null]})},be=function(e){var t=e.setIsAddModalShown;return Object(r.jsxs)("div",{className:"food-item add-food-item",onClick:function(){return t(!0)},children:[Object(r.jsx)("span",{className:"food-item__title add-food-item__title",children:"Add your own menu item!"}),Object(r.jsx)("div",{className:"add-food-item__icon",children:"+"})]})},me=function(){return Object(r.jsx)("svg",{className:"svg__heart",viewBox:"0 0 32 29.6",children:Object(r.jsx)("path",{d:"M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2 c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z"})})},fe=function(e){var t=e.item,n=e.addCheckoutItem,a=e.disableCheck,i=Object(o.c)((function(e){return e.currentUser})),u=i.favList,d=i.id,l=Object(s.useState)(u.includes(t.id)),j=Object(z.a)(l,2),b=j[0],m=j[1],f=Object(s.useState)(),O=Object(z.a)(f,2),h=O[0],v=O[1],x=Object(o.b)();Object(s.useEffect)((function(){v(a(t.id))}),[a,t.id]);return Object(r.jsxs)("div",{className:h?"food-item food-item--disabled":"food-item",children:[Object(r.jsx)("span",{className:"food-item__title",children:t.item}),Object(r.jsxs)("div",{className:"food-item__button",children:[Object(r.jsx)("button",{className:"food-item__button--add",disabled:h,onClick:function(){return n(t)},children:"+"}),Object(r.jsx)("button",{className:b?"food-item__heart--fav":"food-item__heart",onClick:function(){var e={userId:d,itemId:t.id};x(ne(b?c.reqRemoveFav:c.reqAddFav,e)),m((function(e){return!e}))},children:Object(r.jsx)(me,{})})]})]})},Oe=function(e){var t=e.addCheckoutItem,n=e.checkoutItems,a=e.setIsAddModalShown,i=Object(o.c)((function(e){return e.filterList})),u=Object(o.c)((function(e){return e.menuList})),d=Object(s.useState)(null),l=Object(z.a)(d,2),j=l[0],b=l[1],m=Object(o.c)((function(e){return e.currentUser})),f=m.favList,O=m.id,h=Object(o.b)();Object(s.useEffect)((function(){var e=function(e){return u.reduce((function(t,n){var c=n.category;return(e.includes(c)||f.includes(n.id)&&e.includes("FAVORITES"))&&t.push(n),t}),[])};b([]),function(){var t=[],n=i.reduce((function(e,t){return t.selected&&e.push(t.id),e}),[]);t=0===n.length?u:e(n),b(t)}()}),[i,u,f]),Object(s.useEffect)((function(){h(ne(c.reqGetUser,"",O))}),[h,O]);var v=function(e){return!!n&&n.some((function(t){return t.foodId===e}))};return Object(r.jsxs)("div",{className:"food-items-grid",children:[j&&j.map((function(e){return Object(r.jsx)(fe,{item:e,addCheckoutItem:t,disableCheck:v},e.id)})),Object(r.jsx)(be,{setIsAddModalShown:a})]})};var he,ve,xe=function(e){var t=e.time,n=void 0===t?1200:t,c=Object(o.c)((function(e){return e.alertMessage})),a=Object(o.b)(),i=Object(s.useState)(""),u=Object(z.a)(i,2),d=u[0],l=u[1];return Object(s.useEffect)((function(){l(c);var e=setTimeout((function(){l(""),a(_(""))}),n);return function(){clearTimeout(e)}}),[c,l,a,n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("p",{className:d?"alert":"",children:d})})},pe=function(e){var t=e.menuList,n=e.checkoutBoardItems,c=e.addCheckOutBoardItem,a=Object(s.useState)(""),i=Object(z.a)(a,2),u=i[0],d=i[1],l=Object(s.useState)([]),j=Object(z.a)(l,2),b=j[0],m=j[1],f=Object(s.useState)(!0),O=Object(z.a)(f,2),h=O[0],v=O[1],x=Object(o.b)();Object(s.useEffect)((function(){x(_(""))}),[x]);var p=Object(s.useRef)();!function(e,t){Object(s.useLayoutEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};return document.addEventListener("mousedown",n),document.addEventListener("keydown",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("keydown",n)}}),[e,t])}(p,(function(){return v(!1)}));return Object(r.jsxs)("div",{ref:p,className:"search",children:[Object(r.jsx)("input",{type:"search",onClick:function(){return v(!0)},placeholder:"Type to search",value:u,onChange:function(e){return function(e){var n=e.target.value;if(m([]),d(n),n.length>0){var c=t.filter((function(e){return t=e.item,c=n,t.toLocaleLowerCase().includes(c.toLocaleLowerCase());var t,c})).splice(0,5);m(c)}}(e)}}),Object(r.jsx)("div",{className:"search__alert",children:Object(r.jsx)(xe,{})}),Object(r.jsx)("div",{className:h&&u?"search-results":"none",children:h&&b.map((function(e){return Object(r.jsx)("div",{className:"search-results__container",onClick:function(){return function(e){m([]),d(""),n.map((function(e){return e.foodId})).includes(e.id)?x(_("".concat(e.item," already added"))):c(e)}(e)},tabIndex:0,children:Object(r.jsx)("span",{className:"search-results__name",children:e.item})},e.id)}))})]})},_e=(n(45),function(){var e=Object(o.c)((function(e){return e.currentUser})),t=Object(o.c)((function(e){return e.calendar})),n=Object(o.c)((function(e){return e.menuList})),a=Object(o.c)((function(e){return e.isFailedToLoad})),i=Object(s.useState)(!1),u=Object(z.a)(i,2),d=u[0],l=u[1],b=Object(s.useState)([]),m=Object(z.a)(b,2),f=m[0],O=m[1],h=Object(s.useState)(!1),v=Object(z.a)(h,2),x=v[0],p=v[1],_=H(),g=Object(z.a)(_,1)[0],N=Object(V.h)(),S=Object(o.b)();Object(s.useEffect)((function(){var e=t.find((function(e){return e.date===N.day}));e&&O(e.menuItems)}),[N.day,t]);var k=function(e,t){var n=Object(j.a)(f),c=null===n||void 0===n?void 0:n.indexOf(e),r=n[c].quantity+t;r>0?n[c].quantity=r:n.splice(c,1),O(n)},y=function(e){var t=Object(j.a)(f),n=null===t||void 0===t?void 0:t.indexOf(e);t.splice(n,1),O(t)},L=function(e){if(!(null===f||void 0===f?void 0:f.find((function(t){return t.foodId===e.id})))){var t={foodId:e.id,quantity:1},n=[].concat(Object(j.a)(f),[t]);O(n)}},C=0===f.length?Object(r.jsxs)("span",{className:"checkout__empty-text",children:["This menu is empty! ",Object(r.jsx)("br",{}),'Add items by clicking "+" on cards of food below.',Object(r.jsx)("br",{}),' Then click "SUBMIT" to save the menu, or click "BACK" to return without saving.']}):f.map((function(e){return Object(r.jsx)(le,{item:e,removeFromCheckout:y,modifyQuantityOfCheckoutItem:k},e.foodId+"checkout")}));return e?d?Object(r.jsx)(V.a,{to:"/w"}):a?Object(r.jsx)(se,{}):Object(r.jsxs)("div",{className:"day",children:[x?Object(r.jsx)(de,{setIsAddModalShown:p}):null,Object(r.jsxs)("div",{className:"checkout-back",children:[Object(r.jsx)("button",{className:"button checkout-back__back",onClick:function(){return l(!0)},children:"\u2b05 BACK"}),Object(r.jsxs)("div",{className:"checkout",children:[Object(r.jsxs)("span",{className:"checkout__heading",children:["Menu for ",N.day]}),g?Object(r.jsx)(ie,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"checkout__board",children:C}),Object(r.jsxs)("div",{className:"checkout__button-bar",children:[Object(r.jsx)("button",{className:"button",onClick:function(){return O([])},children:"CLEAR ALL"}),Object(r.jsx)("button",{className:"button button--checkout-submit",onClick:function(){if(e&&f){var t={userId:null===e||void 0===e?void 0:e.id,date:N.day,menuItems:Object(j.a)(f)};S(ne(c.reqUpdateCalendar,t))}l(!0)},children:"SUBMIT"})]})]})]})]}),Object(r.jsxs)("div",{className:"search-filter-grid",children:[Object(r.jsx)(pe,{menuList:n,checkoutBoardItems:f,addCheckOutBoardItem:L}),Object(r.jsx)(je,{})]}),Object(r.jsx)(Oe,{checkoutItems:f,addCheckoutItem:L,setIsAddModalShown:p})]}):Object(r.jsx)(V.a,{to:"/"})}),ge=(n(46),function(){var e=Object(o.c)((function(e){return e.currentUser})),t=Object(o.b)();return Object(r.jsxs)("div",{className:"header",children:[Object(r.jsx)("div",{className:"header__icon",children:Object(r.jsx)(ae,{})}),Object(r.jsx)("div",{className:"header__title",children:"Menu Plan"}),e?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"header__username",children:e.username}),Object(r.jsx)("button",{className:"header__signout",onClick:function(){t(M(!1)),t({type:I})},children:"Signout"})]}):null]})}),Ne=function(e){var t=e.handleSubmit,n=e.selectedUser,c=e.setConfirmDelete,a=Object(s.useRef)(null);return Object(s.useLayoutEffect)((function(){a.current&&a.current.focus()}),[]),Object(r.jsxs)("div",{className:"user-delete",children:[Object(r.jsxs)("span",{className:"user-delete__text",children:["Delete ",n?n.username:null,"?"]}),Object(r.jsx)("button",{className:"button",ref:a,onClick:function(e){return t(e)},children:"YES"}),Object(r.jsx)("button",{className:"button",onClick:function(){return c(!1)},children:"NO"})]})},Se=function(e){var t=e.setShowAddUser,n=e.signupUser,c=Object(s.useState)(""),a=Object(z.a)(c,2),i=a[0],u=a[1],d=Object(s.useState)([]),l=Object(z.a)(d,2),j=l[0],b=l[1],m=Object(o.c)((function(e){return e.users})),f=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=m.reduce((function(e,t){return e.push(t.username),e}),[]);b(e)}),[m]),Object(s.useLayoutEffect)((function(){f.current&&f.current.focus()}),[]);var O=j.includes(i),h=i.length<=3||O||i.length>=15;return Object(r.jsxs)("div",{className:"user-signup",children:[Object(r.jsx)("span",{className:"user-signup__heading",children:"Input new username"}),Object(r.jsxs)("div",{className:"user-signup__input-container",children:[Object(r.jsx)("input",{className:"user-signup__input",type:"text",value:i,ref:f,onKeyDown:function(e){return function(e){"Enter"!==e.key||h||n(i)}(e)},onChange:function(e){return u(e.target.value)}}),Object(r.jsx)("button",{className:"button",disabled:h,onClick:function(){return n(i)},children:"Submit"}),Object(r.jsx)("button",{className:"button",onClick:function(){return t(!1)},children:"X"})]}),O?Object(r.jsx)("span",{className:"user-signup__error",children:"Name already included"}):null,i.length<=3||i.length>=25?Object(r.jsx)("span",{className:"user-signup__error",children:"Username must be between 3 and 25 characters"}):Object(r.jsx)("br",{})]})},ke=function(e){var t=e.value,n=e.label,c=void 0===n?"Select":n,s=e.selectMessage,a=void 0===s?" ":s,i=e.optionMap,u=e.handleSelect,d=Object(o.c)((function(e){return e.isLoading})),l=i.map((function(e,t){return Object(r.jsx)("option",{className:"signin-form__option",value:t,children:e.username},e.id)}));return d?Object(r.jsx)(ie,{}):Object(r.jsx)("form",{className:"signin-form",children:Object(r.jsxs)("label",{children:[" ",c,Object(r.jsxs)("select",{className:"signin-form__select",value:t,onChange:function(e){return u(e)},children:[Object(r.jsx)("option",{value:"",disabled:!0,children:a}),l]})]})})},ye=(n(27),function(){return Object(r.jsxs)("div",{className:"welcome",children:[Object(r.jsx)("span",{className:"welcome__text",children:"Everything you need for creating a menu for the next 7 days."}),Object(r.jsx)("span",{className:"welcome__sub-text",children:"Best viewed on Chrome's Desktop Browser"})]})}),Le=function(){var e=Object(s.useState)(!1),t=Object(z.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)(!1),u=Object(z.a)(i,2),d=u[0],l=u[1],j=Object(s.useState)(!1),b=Object(z.a)(j,2),m=b[0],f=b[1],O=Object(s.useState)(null),h=Object(z.a)(O,2),v=h[0],x=h[1],p=Object(o.c)((function(e){return e.users})),_=Object(o.c)((function(e){return e.isFailedToLoad})),g=Object(s.useState)(""),N=Object(z.a)(g,2),S=N[0],k=N[1],y=H(),L=Object(z.a)(y,1)[0],C=Object(o.b)(),E=Object(V.g)();Object(s.useLayoutEffect)((function(){var e=setTimeout((function(){f(!1)}),1200);return function(){return clearTimeout(e)}}),[m]),Object(s.useEffect)((function(){C(ne(c.reqGetUsers))}),[C]);var I=function(e){C(ne(c.reqDeleteUser,{id:e}))},U=0===S.length;return _?Object(r.jsx)(se,{}):Object(r.jsxs)("div",{className:"home",children:[Object(r.jsxs)("div",{className:"home__header",children:[Object(r.jsx)(ae,{})," Menu Plan"]}),Object(r.jsx)(ye,{}),Object(r.jsx)("div",{className:"login",children:L?Object(r.jsx)(ie,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"signin",children:n?Object(r.jsx)(Ne,{handleSubmit:function(e){e.preventDefault(),a(!1),v&&I(v.id),f(!0),x(null),k("")},setConfirmDelete:a,selectedUser:v}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"signin__heading",children:"Select your username"}),Object(r.jsx)(ke,{value:S,label:"",selectMessage:"Select",optionMap:p,handleSelect:function(e){k(e.target.value),x(p[+e.target.value])}}),Object(r.jsx)("button",{className:"button",onClick:function(){return C(ne(c.reqGetUser,"",null===v||void 0===v?void 0:v.id)),C(M(!0)),x(null),k(""),void E.push("/w")},disabled:U,children:"Sign in"}),Object(r.jsx)("button",{className:"button",onClick:function(){return a(!0)},disabled:U,children:"Delete User"})]})}),Object(r.jsxs)("div",{className:"signup",children:[d?Object(r.jsx)(Se,{setShowAddUser:l,signupUser:function(e){var t={username:e};C(ne(c.reqAddUser,t)),l(!1),f(!0)}}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"signup__heading",children:"Don't have a username?"}),Object(r.jsx)("button",{className:"button button--signup",onClick:function(){return l(!0)},children:"Sign up"})]}),m?Object(r.jsx)(xe,{}):null]})]})})]})},Ce=n(31),Ee=n.n(Ce),Ie=(n(20),function(e){var t=e.day,n=e.calendarDisplay,c=Object(s.useState)(!1),a=Object(z.a)(c,2),i=a[0],u=a[1],d=Object(o.c)((function(e){return e.menuList})),l=H(),j=Object(z.a)(l,1)[0];return i?Object(r.jsx)(V.a,{to:"/d/".concat(t.dateId)}):Object(r.jsxs)("div",{className:"day-menu",onClick:function(){return u(!0)},children:[Object(r.jsxs)("div",{className:"day-menu__heading",children:[Object(r.jsx)("span",{className:"day-menu__heading--day",children:t.day}),Object(r.jsx)("span",{className:"day-menu__heading--date",children:t.dateId})]}),j?Object(r.jsx)(ie,{}):Object(r.jsx)(r.Fragment,{children:null===n||void 0===n?void 0:n.menuItems.map((function(e){var t=d.find((function(t){return t.id===e.foodId}));return Object(r.jsxs)("div",{className:"day-menu__menu-item",children:[Object(r.jsx)("span",{className:"menu-item__name",children:null===t||void 0===t?void 0:t.item}),Object(r.jsx)("span",{className:"menu-item__amount",children:e.quantity})]},e.foodId)}))})]})});!function(e){e[e.Sun=0]="Sun",e[e.Mon=1]="Mon",e[e.Tues=2]="Tues",e[e.Wed=3]="Wed",e[e.Thur=4]="Thur",e[e.Fri=5]="Fri",e[e.Sat=6]="Sat"}(he||(he={})),function(e){e[e.Jan=0]="Jan",e[e.Feb=1]="Feb",e[e.Mar=2]="Mar",e[e.Apr=3]="Apr",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.Aug=7]="Aug",e[e.Sept=8]="Sept",e[e.Oct=9]="Oct",e[e.Nov=10]="Nov",e[e.Dec=11]="Dec"}(ve||(ve={}));var Ue=a.a.forwardRef((function(e,t){var n=Object(s.useState)(null),a=Object(z.a)(n,2),i=a[0],u=a[1],d=Object(o.c)((function(e){return e.currentUser})),l=Object(o.c)((function(e){return e.calendar})),b=Object(o.c)((function(e){return e.isFailedToLoad})),m=Object(o.c)((function(e){return e.isLoggedIn})),f=Object(o.b)();return Object(s.useEffect)((function(){var e=function(){var e=new Date;return new Array(7).fill(null).reduce((function(t,n,c){var r=new Date(e);r.setDate(e.getDate()+c);var s=r.getMonth(),a=r.getDay(),i=String(r.getDate()),u=String(r.getFullYear()),o="".concat(i,"-").concat(s+1,"-").concat(u);return t.push({month:ve[s],day:he[a],date:i,year:u,dateId:o}),t}),[])}();u(Object(j.a)(e));var t=e.map((function(e){return e.dateId})).sort();d&&f(ne(c.reqGetCalendar,{dateList:t},d.id))}),[d,f]),Object(s.useEffect)((function(){f(v())}),[f]),Object(s.useEffect)((function(){f(ne(c.reqGetMenu))}),[f]),m||d?b?Object(r.jsx)(se,{}):Object(r.jsx)("div",{className:"week",ref:t,children:null===i||void 0===i?void 0:i.map((function(e){var t=l.find((function(t){return t.date===e.dateId}));return Object(r.jsx)(Ie,{day:e,calendarDisplay:t},e.dateId)}))}):Object(r.jsx)(V.a,{to:"/"})})),we=n.p+"static/media/printer.1a6e7ce5.svg",Te=function(){var e=Object(s.useRef)(null);return Object(r.jsxs)("div",{className:"print",children:[Object(r.jsx)(Ee.a,{trigger:function(){return Object(r.jsx)("a",{href:"#/",children:Object(r.jsx)("img",{className:"print__icon",src:we,alt:"Printer Icon"})})},content:function(){return e.current}}),Object(r.jsx)(Ue,{ref:e})]})},qe=function(){return Object(r.jsx)(W.a,{basename:"/",children:Object(r.jsxs)(V.d,{children:[Object(r.jsx)(V.b,{exact:!0,path:"/",children:Object(r.jsx)(Le,{})}),Object(r.jsx)(V.b,{path:"/w",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ge,{}),Object(r.jsx)(Te,{})]})}),Object(r.jsx)(V.b,{path:"/d/:day",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ge,{}),Object(r.jsx)(_e,{})]})}),Object(r.jsx)(V.b,{children:Object(r.jsx)(re,{text:"404: Not found",subText:"Redirecting to homepage...",isRedirected:!0})})]})})};u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(o.a,{store:K,children:Object(r.jsx)(qe,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.6505c1f7.chunk.js.map